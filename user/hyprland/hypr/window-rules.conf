# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.

# Pinned floaing windows
windowrulev2 = bordercolor rgba(ffffffff) rgba(ffffff55), floaing:1, pinned:1

# Firefox PiP
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = size 800 450, title:(Picture-in-Picture)
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = opacity 0.8 0.8, title:^(Picture-in-Picture)$
# Workaround due to different initial title
windowrulev2 = float, title:^(Firefox)$
windowrulev2 = size 800 450, title:(Firefox)
windowrulev2 = pin, title:^(Firefox)$

# Chromium PiP
windowrulev2 = float, title:^(Picture in picture)$
windowrulev2 = size 800 450, title:(Picture in picture)
windowrulev2 = pin, title:^(Picture in picture)$
windowrulev2 = opacity 0.8 0.8, title:^(Picture in picture)$

# Firefox
windowrulev2 = opacity 0.85 override 0.7 override, class:(firefox-nightly-private)

# Steam
windowrulev2 = stayfocused, title:^()$, class:^(steam)$
windowrulev2 = minsize 1 1, title:^()$, class:^(steam)$

# Blish HUD
windowrulev2 = float, title:^(Blish HUD)$
windowrulev2 = center, title:^(Blish HUD)$
windowrulev2 = nofocus, title:^(Blish HUD)$
windowrulev2 = noinitialfocus, title:^(Blish HUD)$
windowrulev2 = noborder, title:^(Blish HUD)$
windowrulev2 = noshadow, title:^(Blish HUD)$
windowrulev2 = noblur, title:^(Blish HUD)$
windowrulev2 = nodim, title:^(Blish HUD)$
windowrulev2 = noanim, title:^(Blish HUD)$
# windowrulev2 = pin, title:^(Blish HUD)$
$baseVisibility = "0.3"
windowrulev2 = opacity 0.1 override $baseVisibility override, title:^(Blish HUD)$
# These are keybindings, but they are for window rules within current context
# G for radial mounts visibility; CAPS for overall visibility
$scriptsDir = ~/.dotfiles/user/hyprland/hypr/scripts
bindnt = , G, exec, $scriptsDir/window-opacity-toggle.sh "Blish HUD" "+0" "0.8"
bindrnt = , G, exec, $scriptsDir/window-opacity-toggle.sh "Blish HUD" "+0" $baseVisibility
bindint = CAPS, Caps_Lock, exec, $scriptsDir/window-opacity-toggle.sh "Blish HUD" "+0" "0.85"
bindirnt = CAPS, Caps_Lock, exec, $scriptsDir/window-opacity-toggle.sh "Blish HUD" "+0" $baseVisibility
windowrulev2 = workspace 3 silent, title:$(Blish HUD)$
# GW 2
windowrulev2 = stayfocused, title:(Guild Wars 2)
windowrulev2 = forceinput, title:(Guild Wars 2)
windowrulev2 = fullscreen, title:(Guild Wars 2)
windowrulev2 = center, title:(Guild Wars 2), floating:1

# Fullscreen apps
windowrulev2 = fullscreen, class:^(Minecraft)(.*)$

# Emoji picker
windowrulev2 = float, class:^(it\.mijorus\.smile)$
windowrulev2 = pin, class:^(it\.mijorus\.smile)$
windowrulev2 = opacity 0.9 0.8, class:^(it\.mijorus\.smile)$

# Spofity
blurls = Spotify
windowrulev2 = opacity 0.8 override, initialTitle:(Spotify)

# Discord
blurls = vesktop
windowrulev2 = opacity 0.9 override 0.8 override, class:(vesktop)

# Telegram
blurls = org.telegram.desktop
windowrulev2 = opacity 0.9 override 0.8 override, class:(org.telegram.desktop)

# Satty
windowrulev2 = float, class:(com.gabm.satty)
windowrulev2 = fullscreen, class:(com.gabm.satty)

# Kitty
blurls = kitty
windowrulev2 = opacity 0.85 0.8, class:(kitty)

# File manager
blurls = org.gnome.Nautilus
windowrulev2 = opacity 0.95 override 0.9 override, class:(org.gnome.Nautilus)

# Blur
blurls = rofi
blurls = ags

# Transparency
windowrulev2 = opacity 0.85 override 0.9 override, title:(Qalculate!)

# -- Fix odd behaviors in IntelliJ IDEs --
#! Fix focus issues when dialogs are opened or closed
windowrulev2 = windowdance, class:^(jetbrains-.*)$, floating:1
#! Fix splash screen showing in weird places and prevent annoying focus takeovers
windowrulev2 = center, class:^(jetbrains-.*)$, title:^(splash)$, floating:1
windowrulev2 = nofocus, class:^(jetbrains-.*)$, title:^(splash)$, floating:1
windowrulev2 = noborder, class:^(jetbrains-.*)$, title:^(splash)$, floating:1

#! Center popups/find windows
windowrulev2 = center, class:^(jetbrains-.*)$, title:^( )$, floating:1
windowrulev2 = stayfocused, class:^(jetbrains-.*)$, title:^( )$, floating:1
windowrulev2 = noborder, class:^(jetbrains-.*)$, title:^( )$, floating:1
#! Disable window flicker when autocomplete or tooltips appear
windowrulev2 = nofocus, class:^(jetbrains-.*)$, title:^(win.*)$, floating:1
